name: 'Build'
description: 'Prepares the repo for a job by running the build'

runs:
    using: 'composite'
    steps:
        -   name: echo github.ref
            shell: bash
            run: echo ${{ github.ref }}

        -   uses: actions/cache@v3
            id: build-cache
            with:
                path: '**/dist/**'
                key: ${{ runner.os }}-build-${{ github.sha }}

        -   name: Build
            shell: bash
            run: |
                npm run build --workspace=packages/**
